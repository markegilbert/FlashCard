<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>FlashCards UI Prototype</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    </head>
    <body>
        <div id="scrollable-content" class="container">
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </body>

    <script type="text/javascript">
        // Load up the initial data
        loadMoreContent(true);

        function loadMoreContent(shouldIncludeLoadMoreButton) 
        {
            if (document.getElementById('LoadMoreButton')) { document.getElementById('LoadMoreButton').remove(); }

            fetch('https://localhost:7006/api/FlashCards?TopicID=MontyPythonQuestions&NumberOfFlashcards=3')
                .then(response => response.text())
                .then(html => 
                {
                    document.getElementById('scrollable-content').innerHTML += html; 
                    if (shouldIncludeLoadMoreButton) { document.getElementById('scrollable-content').innerHTML += '<button id="LoadMoreButton" onclick="loadMoreContent(true)">Load more</button>'; }
                });
        }

        window.addEventListener('scroll', function() 
        {
            var scrollableContent = document.getElementById('scrollable-content');
            var hasReachedBottom = scrollableContent.getBoundingClientRect().bottom <= window.innerHeight;

            if (hasReachedBottom) {
                loadMoreContent(false);
            }
        });
    </script>
</html>